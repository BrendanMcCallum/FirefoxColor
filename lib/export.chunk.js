(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{489:function(t,e){},491:function(t,e){},523:function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return l});var n=r(484),a=r.n(n),i=r(1),o=r(3),u=r(17);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){a=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=Object(u.c)("export");function l(t){var e=t.name,r=void 0===e?"Default Name":e,n=t.store,u=t.bgImages;s("performThemeExport"),m=[],p=0;var f=new a.a,c=n.getState(),l=i.c.theme(c),h=i.c.themeCustomImages(c),b=Object(o.b)(l,u,h);if(b.images){var v=b.images,y=v.additional_backgrounds;if(v.theme_frame&&(v.theme_frame=g(f,v.theme_frame)),y)for(var d=0;d<y.length;d++)y[d]=g(f,y[d])}var w={manifest_version:2,version:"1.0",name:r,theme:b};return s("manifest",w),f.file("manifest.json",JSON.stringify(w,null,"  ")),Promise.all(m).then(function(){return f.generateAsync({type:"base64"})}).then(function(t){return"data:application/x-xpinstall;base64,"+t})}var m=[],p=0,h=function(){return p++};var b={"image/png":".png","image/jpeg":".jpg","image/bmp":".bmp"};function g(t,e){if(e.startsWith("data:")){var r=f(e.split(",",2),2),n=r[0],a=r[1],i=f(n.substr(5).split(/;/,1),1)[0],o="images/".concat(h()).concat(b[i]);return t.file(o,function(t){for(var e=atob(t),r=e.length,n=new Array(r),a=0;a<r;a++)n[a]=e.charCodeAt(a);return new Uint8Array(n)}(a)),o}if(e.startsWith("images/")){var u=e;return m.push(fetch(u).then(function(t){return t.blob()}).then(function(e){return t.file(u,e)})),u}return e}}}]);
//# sourceMappingURL=export.chunk.js.map